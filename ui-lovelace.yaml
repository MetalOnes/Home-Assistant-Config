views:
#
# Overview tab
#
  - title: Overview
    icon: mdi:home-outline
    path: overview
    cards:
# House Mode sensor and scenes
      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:stack-in-card
            keep:
              #margin: true
              background: true
            cards:
              - type: custom:stack-in-card
                mode: horizontal
                cards:
                  - type: custom:button-card
                    entity: sensor.homemode
                    show_name: false
                    show_state: true
                    styles:
                      card:
                        - border-radius: 5px
                      state:
                        - font-size: 32px
                      grid:
                        - grid-template-areas: '"i itemp otemp" "i tv beer" "s p1 p2"' 
                        - grid-template-columns: 1fr 1fr 1fr
                        - grid-template-rows: min-content min-content min-content
                      img_cell:
                        - justify-content: start
                        - align-items: start
                      icon:
                        - width: 50%
                      custom_fields:
                        itemp:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                        tv:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                        otemp:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                        beer:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                        p1:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                          #- padding-top: 5px
                        p2:
                          - align-self: middle
                          - justify-self: start
                          - font-size: 14px
                    custom_fields:
                      itemp: >
                        [[[ return `<ha-icon
                        icon="mdi:thermometer"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>In: ${states['sensor.current_temperature'].state}°F</span>`
                        ]]]
                      tv: >
                        [[[ return `<ha-icon
                        icon="mdi:television"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>TV: ${states['sensor.harmony_living_room'].state}</span>`
                        ]]]
                      otemp: >
                        [[[ return `<ha-icon
                        icon="mdi:thermometer"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>Out: ${states['sensor.wupws_temp'].state}°F</span>`
                        ]]]
                      beer: >
                        [[[ return `<ha-icon
                        icon="mdi:glass-mug-variant"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>Beers: ${states['sensor.untappd_total_beers'].state}</span>`
                        ]]]
                      p1: >
                        [[[ return `<ha-icon
                        icon="mdi:account"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>Eric: ${states['person.eric'].state}</span>`
                        ]]]
                      p2: >
                        [[[ return `<ha-icon
                        icon="mdi:account"
                        style="width: 20px; height: 20px; color: var(--state-icon-color);">
                        </ha-icon> <span>Val: ${states['person.val'].state}</span>`
                        ]]]
                    state:
                      - value: 'Away'
                        color: rgb(150, 0, 0, 0.9)
                        icon: mdi:home-minus
                      - value: 'Home'
                        color: rgb(0, 99, 31, 0.9)
                        icon: mdi:home-variant
                      - value: 'Night'
                        color: rgb(111, 0, 110, 0.9)
                        icon: mdi:weather-night

              - type: custom:stack-in-card
                keep:
                  margin: true
                  background: true
                  border_radius: true
                mode: horizontal
                cards:
                  - type: "custom:button-card"
                    entity: scene.switch_to_home
                    name: Home Mode
                    color_type: card
                    color: rgb(0, 99, 31, 0.7)
                    template: home-mode_buttons

                  - type: custom:button-card
                    entity: scene.switch_to_night
                    name: Night Mode
                    template: home-mode_buttons
                    color_type: card
                    color: rgb(111, 0, 110, 0.7)

                  - type: "custom:button-card"
                    entity: scene.switch_to_away
                    name: Away Mode
                    template: home-mode_buttons
                    color_type: card
                    color: rgb(150, 0, 0, 0.7)

                  - type: "custom:button-card"
                    entity: lock.front_door_19
                    show_state: true
                    show_name: false
                    name: "Front Door: "
                    tap_action:
                      action: more-info
                    hold_action:
                      action: toggle
                    state:
                      - value: "locked"
                        color: rgb(150, 0, 0, 0.7)
                        icon: mdi:lock
                      - value: "unlocked"
                        color: rgb(0, 99, 31, 0.7)
                        icon: mdi:lock-open
                    aspect_ratio: 1.5/1
                    color_type: card
                    styles:
                      name:
                        - font-size: 90%

          - type: entities
            show_header_toggle: false
            entities:
              - type: custom:slider-entity-row
                entity: light.lamp_107
                toggle: true
              - type: custom:slider-entity-row
                entity: light.dining_room_lamp_160
                toggle: true
              - type: custom:fold-entity-row
                head: light.tv
                entities:
                  - type: custom:rgb-light-card
                    entity: light.tv
                    justify: around
                    colors:
                      - rgb_color: [0,0,0]
                        brightness: 15
                        white_value: 30
                        icon_color: white
                      - rgb_color: [0,0,255]
                        brightness: 45
                        white_value: 0
                        icon_color: blue
                      - rgb_color: [255,0,0]
                        brightness: 45
                        white_value: 0
                        icon_color: red
                      - rgb_color: [0,255,00]
                        brightness: 45
                        white_value: 0
                        icon_color: green
                      - icon_color: 'linear-gradient(to right, orange , yellow, green, cyan, blue, violet)'
                        effect: custom
                      - icon_color: 'linear-gradient(to right, red, green, blue)'
                        effect: colorloop

              - type: custom:fold-entity-row
                head: group.bedroom
                icon: mdi:bed-empty
                entities:
                  - type: custom:slider-entity-row
                    entity: light.vanity_211
                    toggle: true
                  - type: custom:slider-entity-row
                    entity: light.bedroom_val_104
                    toggle: true
                  - type: custom:slider-entity-row
                    entity: light.bedroom_eric_103
                    toggle: true
                  - entity: scene.both_br_lamps_to_20
                  - entity: switch.master_bath_fan_212
              - type: custom:fold-entity-row
                head: group.holidayexterior
                icon: mdi:pine-tree
                entities:
                  - switch.deck_lights_108
                  - switch.front_holiday_213
                  - switch.back_holiday_214
                  - light.2811_1
                  - light.2811_2_master

      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Stuff That's On
            template: general_label
          
          - type: custom:auto-entities
            card:
              type: glance
            filter:
              include:
                - domain: light
                  state: "on"
                  options:
                    tap_action:
                      action: toggle
                - domain: switch
                  state: "on"
                  options:
                    tap_action:
                      action: toggle
              exclude:
                - entity_id: "*sync*"
                - entity_id: "switch.lr_*"
                - entity_id: "switch.*sensor*"
                - entity_id: "switch.*pi*"
                - entity_id: "switch.*door*"
                - entity_id: "switch.*camera*"
            show_empty: false

# Harmony Living Room card
      - type: custom:stack-in-card
        keep:
          background: true
        style: |
          ha-card {
            background: var(--paper-card-background-color)
          }
        cards:
          - type: custom:button-card
            name: Living Room TV
            template: general_label
          - type: "custom:button-card"
            entity: sensor.harmony_living_room
            name: 'Current Activity'
            show_state: true
            show_icon: true
            layout: icon_name_state
            tap_action:
              action: more-info
            styles:
              icon:
                - color: var(--state-icon-active-color)
              state:
                - color: var(--primary-text-color)
            state:
              - value: 'Kodi'
                icon: mdi:kodi
              - value: 'TV'
                icon: mdi:television
              - value: 'Xbox'
                icon: mdi:microsoft-xbox
              - value: 'Music'
                icon: mdi:music
              - value: 'Chromecast'
                icon: mdi:cast
              - value: 'Switch'
                icon: mdi:nintendo-switch
              - value: 'Steam'
                icon: mdi:steam
              - value: 'PowerOff'
                icon: mdi:power-off
                styles:
                  icon:
                    - color: rgb(200,0,0)
          - type: custom:stack-in-card
            cards:
              - type: custom:stack-in-card
                mode: horizontal
                keep:
                  margin: true
                  border_radius: true
                  background: true
                cards:
                  - type: custom:button-card
                    entity: switch.lr_tv
                    icon: mdi:television
                    template: harmony_button
                  - type: custom:button-card
                    entity: switch.lr_kodi
                    icon: mdi:kodi
                    template: harmony_button
                  - type: custom:button-card
                    entity: switch.lr_chromecast
                    icon: mdi:cast
                    template: harmony_button
                  - type: custom:button-card
                    entity: switch.lr_wiiu
                    icon: mdi:nintendo-switch
                    template: harmony_button
              - type: custom:stack-in-card
                mode: horizontal
                keep:
                  margin: true
                  border_radius: true
                  background: true
                cards:
                  - type: custom:button-card
                    entity: switch.lr_music
                    icon: mdi:music
                    template: harmony_button
                  - type: custom:button-card
                    entity: switch.lr_steam
                    icon: mdi:steam
                    template: harmony_button
                  - type: custom:button-card
                    entity: switch.lr_xbox
                    icon: mdi:microsoft-xbox
                    template: harmony_button

                  - type: "custom:button-card"
                    entity: remote.living_room
                    template: harmony_off_button

          - type: custom:fold-entity-row
            head:
              type: section
              label: TV Shortcuts
            padding: 0
            entities:
              - type: custom:paper-buttons-row

                buttons:
                  - entity: shell_command.tv_pbs
                    name: "4.1 PBS"
                    tap_action:
                      action: call-service
                      service: shell_command.tv_pbs
                    style:
                      button:
                        background-color: var(--primary-background-color)
                        border-radius: var(--ha-card-border-radius)
                        border: 'solid 1px var(--state-icon-active-color)'
                  - entity: shell_command.tv_wral
                    name: "5.1 NBC"
                    style:
                      button:
                        background-color: var(--primary-background-color)
                        border-radius: var(--ha-card-border-radius)
                        border: 'solid 1px var(--state-icon-active-color)'
                    tap_action:
                      action: call-service
                      service: shell_command.tv_wral
                  - entity: shell_command.tv_abc
                    name: "11.1 ABC"
                    style:
                      button:
                        background-color: var(--primary-background-color)
                        border-radius: var(--ha-card-border-radius)
                        border: 'solid 1px var(--state-icon-active-color)'
                    tap_action:
                      action: call-service
                      service: shell_command.tv_abc
                  - entity: shell_command.tv_cbs
                    name: "17.1 CBS"
                    style:
                      button:
                        background-color: var(--primary-background-color)
                        border-radius: var(--ha-card-border-radius)
                        border: 'solid 1px var(--state-icon-active-color)'
                    tap_action:
                      action: call-service
                      service: shell_command.tv_cbs
                  - entity: shell_command.tv_fox
                    name: "50.1 Fox"
                    style:
                      button:
                        background-color: var(--primary-background-color)
                        border-radius: var(--ha-card-border-radius)
                        border: 'solid 1px var(--state-icon-active-color)'
                    tap_action:
                      action: call-service
                      service: shell_command.tv_fox
          - type: custom:fold-entity-row
            head:
              type: section
              label: Roku Remote
            padding: 0
            entities:
              - type: custom:roku-card
                entity: media_player.55_tcl_roku_tv
# Calendar card
      # - type: custom:stack-in-card
      #   keep:
      #     background: true
      #   cards:
      #     - type: custom:button-card
      #       name: Upcoming
      #       template: general_label
      #     - type: custom:text-divider-row
      #       text: Trash
      #     - type: custom:garbage-collection-card
      #       entity: sensor.trash
      #       icon_color: white
      #       icon_size: 35px
      #       due_txt: true
      #     - type: custom:garbage-collection-card
      #       entity: sensor.recycling
      #       icon_color: white
      #       icon_size: 35px
      #       due_txt: true
      #     - type: custom:text-divider-row
      #       text: Calendar
      #     - type: calendar
      #       initial_view: listWeek
      #       hideHeader: true
      #       numberOfDays: 90
      #       entities:
      #         - calendar.slacktishevents
      #         - calendar.flocker_streams
      #         - calendar.holidays_in_united_states

# Thermostat and climate Card
      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Climate
            template: general_label
          - type: custom:simple-thermostat
            entity: climate.living_room
            step_size: 1
            control:
              preset:
                away: false
                none: false
              hvac: true

# Temps
          - type: custom:mini-graph-card
            name: Temperature
            hours_to_show: 48
            line_width: 3
            entities:
              - entity: sensor.current_temperature
                color: "#e74c3c"
              - entity: sensor.temperature_sensor_207
                color: rgba(0, 133, 255)
              - entity: sensor.solar_angle
                color: gray
                show_line: false
                show_points: false
                show_legend: false
                y_axis: secondary
                show_fill: true
            lower_bound_secondary: ~-80
            upper_bound_secondary: ~80
            show:
              points: hover
              fill: fade
#
# Switches/Lights Tab
#
  - title: Switches
    path: switches
    icon: mdi:light-switch
    cards:
####### Living Area Card
      # Living Room
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Living Room
            template: general_label
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: light.lamp_107
                name: Living Lamp
                template: light_button_brightness

              - type: "custom:button-card"
                entity: light.tv
                name: TV
                template: rgb_light_button

              - type: "custom:button-card"
                entity: light.dining_room_lamp_160
                name: Dining Lamp
                template: light_button_brightness

              - type: "custom:button-card"
                entity: light.dining_shelf
                name: Dining Shelf
                template: rgb_light_button
              
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: light.mantle
                name: Mantle
                template: rgb_light_button
              - type: "custom:button-card"
                entity: light.fireplace
                name: Fireplace
                template: rgb_light_button
              - type: "custom:button-card"
                entity: switch.aoycocr_plug_2
                template: light_switch_button
                name: Black Light
              - type: "custom:button-card"
                entity: switch.aoycocr_plug_1
                template: light_switch_button
              
              
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.party_lights_184
                template: light_switch_button
              - type: "custom:button-card"
                entity: switch.couch_lights_185
                template: light_switch_button
              - type: "custom:button-card"
                entity: switch.music_lights_186
                template: light_switch_button
              
              - type: "custom:button-card"
                entity: switch.camera_position
                template: light_switch_button
              
          
      # Kitchen 
          - type: custom:button-card
            name: Kitchen
            template: general_label
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.kitchen_light_183
                name: Light
                template: light_switch_button

              - type: "custom:button-card"
                entity: light.cabinets
                name: Cabinets
                template: rgb_light_button

              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card

####### Man cave card
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Man Cave
            template: general_label
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.man_cave_lights_133
                name: Lights
                template: light_switch_button_power

              - type: "custom:button-card"
                entity: light.desk
                name: Desk
                template: rgb_light_button

              - type: "custom:button-card"
                entity: light.pin_board
                name: Pin Board
                template: rgb_light_button

              - type: "custom:button-card"
                entity: light.wifi_box
                name: Puck
                template: rgb_light_button
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.air_purifier
                name: Air Purifier
                template: light_switch_button
              
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
              

####### Bedroom Card
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Bedroom
            template: general_label
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: light.bedroom_eric_103
                name: Right
                template: light_button_brightness

              - type: "custom:button-card"
                entity: light.bedroom_val_104
                name: Left
                template: light_button_brightness

              - type: "custom:button-card"
                entity: light.master_closet
                name: Closet
                template: light_button_brightness

              - type: "custom:button-card"
                color_type: blank-card

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: light.vanity_211
                name: Vanity
                template: light_button_brightness
                icon: mdi:vanity-light

              - type: custom:button-card
                entity: switch.master_bath_fan_212
                template: light_switch_button
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card



####### Ext Card
      # Front Ext
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Front Ext
            template: general_label
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.front_porch_115
                name: Porch
                template: ext_light_switch_button
              
              - type: "custom:button-card"
                entity: light.front_porch_leds
                name: Porch LEDs
                template: rgb_light_button

              - type: "custom:button-card"
                entity: switch.front_porch_nightlight
                name: Porch Nightlight
                template: ext_light_switch_button

              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)

          - type: horizontal-stack
            cards:

              - type: "custom:button-card"
                entity: switch.front_spotlight_135
                name: Spotlight
                template: ext_light_switch_button

              - type: "custom:button-card"
                entity: switch.front_holiday_213
                name: Front Holiday
                template: ext_light_switch_button
              
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)

              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
      # Back Ext
          - type: custom:button-card
            name: Back Ext
            template: general_label 
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.deck_lights_108
                name: Deck
                template: ext_light_switch_button

              - type: "custom:button-card"
                entity: switch.back_spotlight_118
                name: Spotlight
                template: ext_light_switch_button

              - type: "custom:button-card"
                entity: switch.back_holiday_214
                name: Back Holiday
                template: ext_light_switch_button

              # - type: "custom:button-card"
              #   color_type: blank-card
              #   color_off: var(--disabled-text-color)

              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
####### Holiday card
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Holiday
            template: general_label          
          - type: horizontal-stack
            cards:
            - type: "custom:button-card"
              entity: light.2811_1
              name: Wreath
              template: rgb_light_button
            - type: "custom:button-card"
              entity: light.2811_2_master
              name: Pixel Tree
              template: rgb_light_button
            - type: "custom:button-card"
              entity: switch.mantle_xmas_lights_215
              template: xmas_power
            - type: "custom:button-card"
              color_type: blank-card
              color_off: var(--disabled-text-color)
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.zooz_plug_master_179
                template: light_switch_button
              - type: "custom:button-card"
                entity: switch.zooz_plug_left_180
                template: light_switch_button
              - type: "custom:button-card"
                entity: switch.zooz_plug_right_181
                template: light_switch_button
              - type: "custom:button-card"
                color_type: blank-card
      

####### Other card
      - type: custom:stack-in-card
        keep:
          margin: true
          background: true
          border_radius: true
        cards:
          - type: custom:button-card
            name: Other
            template: general_label          
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.party_mode_virtual_204
                template: light_switch_button
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
#
# Sensors tab
#
  - title: Sensors
    path: sensors
    icon: mdi:gauge
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
          #border_radius: true
        cards:
          - type: custom:button-card
            name: Sensors Status
            template: general_label
          - type: custom:stack-in-card
            mode: horizontal
            keep:
              background: true
              margin: true
              border_radius: true
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.front_door1_1_139
                name: Front Door
                template: door_sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.back_door_172
                name: Back Door
                template: door_sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.closet_door_210
                name: Master Closet
                template: door_sensor_button
              
          - type: custom:stack-in-card
            mode: horizontal
            keep:
              background: true
              margin: true
              border_radius: true
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.motion_sensor_128
                icon: mdi:transition
                name: Man Cave Motion
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.master_bath_sensor_121
                icon: mdi:transition
                name: Master Bath
                template: sensor_button
              
              - type: "custom:button-card"
                entity: binary_sensor.smoke_sensor_197
                icon: mdi:smoke-detector
                name: Smoke
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.co_sensor_198
                icon: mdi:smoke-detector
                name: CO
                template: sensor_button

          - type: custom:button-card
            name: Sensors Armed
            template: general_label

          - type: custom:stack-in-card
            mode: horizontal
            keep:
              background: true
              margin: true
              border_radius: true
            cards:
              - type: "custom:button-card"
                entity: switch.front_door1_1_139
                icon: mdi:door
                name: "Front Door: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.back_door_172
                icon: mdi:door
                name: "Back Door: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.motion_sensor_128
                icon: mdi:transition
                name: "Man Cave Motion: "
                show_state: true
                template: sensor_button
          - type: custom:stack-in-card
            mode: horizontal
            keep:
              background: true
              margin: true
              border_radius: true
            cards:
              - type: "custom:button-card"
                entity: switch.master_bath_sensor_121
                icon: mdi:transition
                name: "Master Bath Motion: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.smoke_sensor_197
                icon: mdi:smoke-detector
                name: "Smoke: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.co_sensor_198
                icon: mdi:smoke-detector
                name: "CO: "
                show_state: true
                template: sensor_button

          - type: custom:button-card
            entity: switch.siren_113
            show_state: true
            icon: mdi:alarm-light
            layout: icon_name_state
            aspect_ratio: 6/1
            lock:
              enabled: true
            styles:
              card:
                #- height: 75px
                - background-color: var(--primary-background-color)
                - margin: 0 3px

      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Master Bath Sensors
            template: general_label
          - type: custom:stack-in-card
            mode: vertical
            keep:
              background: true
              margin: true
              border_radius: true
            cards:
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.temperature_sensor_207
                name: Temp
                icon: mdi:thermometer-lines
                # height: 30
                line_width: 3
                smoothing: false
                points_per_hour: 1
                show:
                  points: hover
                  fill: fade
                color_thresholds:
                  - value: 65
                    color: "#AFEEEE"
                  - value: 70
                    color: "#FFFF00"
                  - value: 78
                    color: "#FFA500"
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.humidity_sensor_209
                name: Humidity
                line_color: lightskyblue
                # height: 20
                line_width: 3
                smoothing: false
                points_per_hour: 1
                show:
                  points: hover
                  fill: fade
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.light_sensor_208
                name: Light
                line_color: lightgreen
                # height: 20
                line_width: 3
                smoothing: false
                points_per_hour: 1
                show:
                  points: hover
                  fill: fade
              - type: entity
                entity: binary_sensor.bathroom_hygrostat

#
# Weather tab
#
  - title: Weather
    path: weather
    icon: mdi:weather-cloudy
    cards:
      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Weather
            template: general_label
          - type: iframe
            url: https://embed.windy.com/embed2.html?lat=35.583&lon=-78.788&zoom=5&level=surface&overlay=radar&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=35.583&detailLon=-78.788&metricWind=default&metricTemp=default&radarRange=-1
            aspect_ratio: 75%
          - type: weather-forecast
            entity: weather.weather
      - type: custom:stack-in-card
        keep:
          background: true
          margin: true
        cards:
          - type: custom:button-card
            name: PWS
            template: general_label
          - type: custom:mini-graph-card
            name: "Temp (24 hours)"
            entities:
              - entity: sensor.wupws_temp
                show_fill: true
                color: steelblue
              - entity: sensor.wupws_heatindex
                show_fill: false
                color: yellow
              - entity: sensor.wupws_dewpt
                show_fill: false
                color: plum
              - entity: sensor.wupws_humidity
                color: green
                show_fill: false
                y_axis: secondary
            lower_bound_secondary: 0
            upper_bound_secondary: 100
            hours_to_show: 24
            line_width: 3
            show:
              points: hover
              extrema: true
          
          - type: custom:mini-graph-card
            name: "Wind (24 Hours)"
            entities:
              - entity: sensor.wupws_windspeed
                color: green
                show_points: hover
              - entity: sensor.wupws_windgust
                color: red
                show_fill: false
            hours_to_show: 24
            points_per_hour: 4
            line_width: 3
            show:
              points: hover
              fill: fade
              extrema: true
          - type: custom:mini-graph-card
            name: "Precip (24 hours)"
            entities:
              - sensor.wupws_preciptotal
              - entity: sensor.wupws_preciprate
                color: orange
                show:
                  extrema: true
                  fill: false
              
            hours_to_show: 24
            points_per_hour: 4
            line_width: 3
            show:
              points: hover
              fill: fade
          - type: custom:mini-graph-card
            name: "Pressure (24 hours)"
            entities:
              - sensor.wupws_pressure
            hours_to_show: 24
            points_per_hour: 2
            line_width: 3
            line_color: green
            height: 80
            show:
              points: hover
              fill: fade
              legend: false


      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Sun
            template: general_label
          - type: "custom:sun-card"
            animation: false
            name:
            entities:
              max_elevation: sun.sun
              sunrise: sensor.sunrise
              sunset: sensor.sunset
              noon: sensor.solar_noon
              moon: sensor.moon

          - type: "custom:button-card"
            entity: sensor.solar_angle
            name: "Current Angle"
            icon: mdi:weather-sunny
            show_state: true
            show_name: true
            show_icon: false
            layout: name_state
            styles:
              name:
                - justify-self: left
                - padding-left: 20px
              state:
                - justify-self: left
                - padding-left: 20px

      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: "custom:button-card"
            template: general_label
            name: Space Weather
          - type: picture-entity
            camera_image: camera.solar_x_rays
            entity: camera.solar_x_rays
            show_state: false
          - type: picture-entity
            camera_image: camera.geomagnetic_field
            entity: camera.geomagnetic_field
            show_state: false
          - type: entity
            entity: binary_sensor.aurora_visibility

#
# People tab
#
  - title: People
    path: people
    icon: mdi:account
    cards:
# Who's home
      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: People
            template: general_label
          - type: custom:stack-in-card
            mode: horizontal
            keep:
              margin: true
              background: true
              border_radius: true
            cards:
              - type: custom:button-card
                entity: person.eric
                tap_action:
                  action: more-info
                icon: mdi:home-account
                color_type: card
                color: auto
                show_state: true
                show_label: true
                show_icon: false
                show_entity_picture: true
                entity_picture: /local/people/eric.png
                state:
                  - value: "home"
                    color: rgba(32, 178, 170, 0.4)
                    entity_picture: /local/people/eric.png
                  - value: "not_home"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/eric-walk.png
                  - value: "Eisai"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/eric-work.png

              - type: custom:button-card
                entity: person.val
                tap_action:
                  action: more-info
                entity_picture: /local/people/val.png
                icon: mdi:home-account
                color_type: card
                color: auto
                show_state: true
                show_label: true
                show_entity_picture: true
                state:
                  - value: "home"
                    color: rgba(32, 178, 170, 0.4)
                    entity_picture: /local/people/val.png
                  - value: "not_home"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/val-walk.png
                  - value: "Food Lion"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/val-car.png
          - type: custom:stack-in-card
            mode: horizontal
            keep:
              margin: true
              background: true
              border_radius: true
            cards:
            ####################################
            #### == Left - Android Card  == ####
            ####################################
              - type: custom:stack-in-card
                keep:
                #   margin: true
                  background: true
                #   border_radius: true
                cards:
                  - type: 'custom:button-card'
                    entity: sensor.pixel_4a_battery_level
                    entity_picture: /local/pixel4a.png
                    template: phone_info
                    name: Pixel 4a
                    styles:
                      custom_fields:
                        cpu:
                          - padding-bottom: 2px
                          - align-self: middle
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states['binary_sensor.pixel_4a_bluetooth_state'].state
                              !== 'on') return "red"; ]]] 
                        ram:
                          - padding-bottom: 2px
                          - align-self: middle
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states["binary_sensor.pixel_4a_wifi_state"].state !==
                              'on') return "red"; ]]] 
                        sd:
                          - align-self: middle
                          - padding-bottom: 2px
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states['binary_sensor.pixel_4a_is_charging'].state == 'Not Charging')
                              return "red"; ]]]          
                    custom_fields:
                      temp: |
                        [[[
                          return `<ha-icon
                            icon="mdi:battery-high"
                            style="width: 22px; height: 22px; color: white;">
                            </ha-icon><span>${entity.state}%</span>`
                        ]]]
                      ring: |
                        [[[
                          return `<ha-icon
                          icon="mdi:cellphone-sound"
                          style="width: 20px; height: 20px; color: white;">
                          </ha-icon><span> Ring Mode: ${states['sensor.pixel_4a_ringer_mode'].state}</span>`
                        ]]]
                      cpu: |
                        [[[
                          return `<ha-icon
                            icon="mdi:bluetooth"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  Bluetooth: <span style="color: var(--text-color-sensor);">${states['binary_sensor.pixel_4a_bluetooth_state'].state}</span></span>`
                        ]]]
                      ram: |
                        [[[
                          return `<ha-icon
                            icon="mdi:wifi"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  WiFi: <span style="color: var(--text-color-sensor);">${states['binary_sensor.pixel_4a_wifi_state'].state} ${states['sensor.pixel_4a_wifi_connection'].state}</span></span>`
                        ]]]
                      sd: |
                        [[[
                          return `<ha-icon
                            icon="mdi:battery-charging"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  Charging: <span style="color: var(--text-color-sensor);">${states['binary_sensor.pixel_4a_is_charging'].state}</span></span>`
                        ]]]
                  - type: 'custom:button-card'
                    entity: sensor.pixel_4a_ringer_mode
                    name: "Ringer:"
                    show_state: true
                    aspect_ratio: 4/1
                    layout: icon_name_state2nd
                    color_type: card
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.pixelringermode
                    state:
                      - value: 'normal'
                        icon: mdi:phone-ring-outline
                        color: var(--paper-item-icon-active-color)
                      - value: 'vibrate'
                        icon: mdi:vibrate
                        color: var(--primary-background-color)
                      - value: 'silent'
                        icon: mdi:volume-off
                        color: var(--primary-background-color)
                    styles:
                      state:
                        - text-transform: capitalize
                  
            ####################################
            #### == Right - Android Card  == ####
            ####################################
              - type: custom:stack-in-card
                keep:
                #   margin: true
                  background: true
                #   border_radius: true
                cards:

                  - type: 'custom:button-card'
                    entity: sensor.moto_g_power_battery_level
                    entity_picture: /local/moto_g_power.png
                    template: phone_info
                    name: Moto G Power
                    styles:
                      custom_fields:
                        cpu:
                          - padding-bottom: 2px
                          - align-self: middle
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states['binary_sensor.moto_g_power_bluetooth_state'].state
                              !== 'on') return "red"; ]]] 
                        ram:
                          - padding-bottom: 2px
                          - align-self: middle
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states["binary_sensor.moto_g_power_wifi_state"].state !==
                              'on') return "red"; ]]] 
                        sd:
                          - align-self: middle
                          - padding-bottom: 2px
                          - justify-self: start
                          - font-size: 11px
                          - '--text-color-sensor': >-
                              [[[ if (states['binary_sensor.moto_g_power_is_charging'].state == 'Not Charging')
                              return "red"; ]]]          
                    custom_fields:
                      temp: |
                        [[[
                          return `<ha-icon
                            icon="mdi:battery-high"
                            style="width: 22px; height: 22px; color: white;">
                            </ha-icon><span>${entity.state}%</span>`
                        ]]]
                      ring: |
                        [[[
                          return `<ha-icon
                            icon="mdi:cellphone-sound"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span> Ring Mode: ${states['sensor.moto_g_power_audio_sensor'].state}</span>`
                        ]]]
                      cpu: |
                        [[[
                          return `<ha-icon
                            icon="mdi:bluetooth"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  Bluetooth: <span style="color: var(--text-color-sensor);">${states['binary_sensor.moto_g_power_bluetooth_state'].state}</span></span>`
                        ]]]
                      ram: |
                        [[[
                          return `<ha-icon
                            icon="mdi:wifi"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  WiFi: <span style="color: var(--text-color-sensor);">${states['binary_sensor.moto_g_power_wifi_state'].state} ${states['sensor.moto_g_power_wifi_connection'].state}</span></span>`
                        ]]]
                      sd: |
                        [[[
                          return `<ha-icon
                            icon="mdi:battery-charging"
                            style="width: 20px; height: 20px; color: white;">
                            </ha-icon><span>  Charging: <span style="color: var(--text-color-sensor);">${states['binary_sensor.moto_g_power_is_charging'].state}</span></span>`
                        ]]]
                  - type: 'custom:button-card'
                    entity: sensor.moto_g_power_audio_sensor
                    name: "Ringer:"
                    show_state: true
                    aspect_ratio: 4/1
                    layout: icon_name_state2nd
                    color_type: card
                    tap_action:
                      action: call-service
                      service: input_boolean.toggle
                      service_data:
                        entity_id: input_boolean.motoringermode
                    state:
                      - value: 'normal'
                        icon: mdi:phone-ring-outline
                        color: var(--paper-item-icon-active-color)
                      - value: 'vibrate'
                        icon: mdi:vibrate
                        color: var(--primary-background-color)
                      - value: 'silent'
                        icon: mdi:volume-off
                        color: var(--primary-background-color)
                    styles:
                      state:
                        - text-transform: capitalize
        

# Untappd Card
      - type: custom:stack-in-card
        keep:
          background: true
        cards:
          - type: custom:button-card
            name: Beer
            template: general_label
          - type: picture-elements
            id: untappd-card
            image: /local/untappd-bg.jpg
            elements:
              - type: state-icon
                entity: sensor.untappd_last_check_in_robotsfearme
                style:
                  top: 22px
                  left: 8px
                  transform: none
              - type: state-label
                entity: sensor.untappd_beer
                style:
                  top: 8%
                  left: 52px
                  transform: none
                  color: rgb(255, 255, 255)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-left-style: solid
                  border-color: Yellow
                  background-color: rgba(10, 10, 10, 0.4)
                  pointer-events: none
                  padding: 5px
                  border-top-right-radius: 5px
              - type: state-icon
                entity: sensor.untappd_last_badge_robotsfearme
                style:
                  top: 74px
                  left: 8px
                  transform: none
              - type: state-label
                entity: sensor.untappd_badge
                style:
                  top: 73px
                  left: 52px
                  transform: none
                  color: rgb(255, 255, 255)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-left-style: solid
                  border-color: Orange
                  background-color: rgba(10, 10, 10, 0.4)
                  pointer-events: none
                  padding: 5px
                  border-bottom-right-radius: 5px
              - type: state-icon
                entity: sensor.untappd_checked
                style:
                  bottom: 0px
                  left: 3px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_checked
                style:
                  bottom: 0px
                  left: 0px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: LightSalmon
                  padding-left: 36px
                  padding-bottom: 1px
              - type: state-icon
                entity: sensor.untappd_followings
                style:
                  bottom: 0px
                  left: 78px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_followings
                style:
                  bottom: 0px
                  left: 74px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: OrangeRed
                  padding-left: 36px
                  padding-bottom: 1px
              - type: state-icon
                entity: sensor.untappd_total_badges
                style:
                  bottom: 0px
                  left: 148px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_total_badges
                style:
                  bottom: 0px
                  left: 141px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: FireBrick
                  padding-left: 36px
                  padding-bottom: 1px
              - type: state-icon
                entity: sensor.untappd_total_beers
                style:
                  bottom: 0px
                  left: 228px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white

              - type: state-label
                entity: sensor.untappd_total_beers
                style:
                  bottom: 0px
                  left: 215px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: Maroon
                  padding-left: 36px
                  padding-bottom: 1px





# Templates for button-card
button_card_templates:
  !include button-card-templates.yaml
