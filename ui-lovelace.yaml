resources:
  - url: /community_plugin/button-card/button-card.js
    type: module
  - url: /community_plugin/mini-media-player/mini-media-player.js
    type: module
  - url: /community_plugin/dual-gauge-card/dual-gauge-card.js
    type: module
  - url: /community_plugin/lovelace-toggle-lock-entity-row/toggle-lock-entity-row.js
    type: module
  - url: /community_plugin/surveillance-card/surveillance-card.js
    type: module
  - url:  /community_plugin/simple-thermostat/simple-thermostat.js
    type: module
  - url: https://unpkg.com/moment@2.23.0/moment.js
    type: js
  - url: /community_plugin/calendar-card/calendar-card.js
    type: module
  - url: /community_plugin/mini-graph-card/mini-graph-card.js
    type: module
  - url: /community_plugin/vertical-style-card/vertical-style-card.js
    type: js
  - url: /community_plugin/banner-card/banner-card.js
    type: module
  - url: /community_plugin/untappd-card/untappd-card.js
    type: module
  - url: /community_plugin/love-lock-card/love-lock-card.js
    type: js
  - url: /community_plugin/custom-header/custom-header.js
    type: module
  - url: /community_plugin/bar-card/bar-card.js
    type: js
  - url: /community_plugin/lovelace-auto-entities/auto-entities.js
    type: module
  - url: /community_plugin/lovelace-card-tools/card-tools.js
    type: js
  - url: /community_plugin/vertical-stack-in-card/vertical-stack-in-card.js
    type: js
  - url: /community_plugin/light-entity-card/light-entity-card.js
    type: js
  - url: /community_plugin/upcoming-media-card/upcoming-media-card.js
    type: js
  - url: /community_plugin/weather-card/weather-card.js
    type: module
  - url: /community_plugin/text-divider-row/text-divider-row.js
    type: module
  - url: /community_plugin/list-card/list-card.js
    type: js
  - url: /community_plugin/lovelace-card-mod/card-mod.js
    type: module
  - url: /community_plugin/lovelace-slider-entity-row/slider-entity-row.js
    type: module
  - url: /community_plugin/lovelace-fold-entity-row/fold-entity-row.js
    type: module
  - url: /community_plugin/sun-card/sun-card.js
    type: module
  - url: /community_plugin/rgb-light-card/card.js
    type: module
  - url: /community_plugin/roku-card/roku-card.js
    type: module


custom_header:
  compact_mode: true
  background: rgba(40, 40, 70, 0.95)

background: var(--background-image)

views:
#
# Overview tab
#
  - title: Overview
    icon: mdi:home-outline
    path: overview
    # theme: e-dark-mode
    cards:
# House Mode sensor and scenes
      - type: vertical-stack
        cards:
          - type: "custom:button-card"
            entity: sensor.homemode
            color_type: card
            name: 'Home Mode'
            show_label: false
            show_name: false
            show_state: true
            state:
              - value: 'Away'
                color: rgba(130, 0, 0, 0.5)
                icon: mdi:home-minus
              - value: 'Home'
                color: rgba(0, 130, 0, 0.5)
                icon: mdi:home-variant
              - value: 'Night'
                color: rgba(111, 0, 110, 0.4)
                icon: mdi:weather-night
            layout: icon_state
            styles:
              card:
                - height: 75px
              state:
                - font-size: 38px
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: scene.switch_to_home
                name: Home
                template: home-mode_buttons
                color_type: card
                color: rgb(0, 99, 31, 0.4)

              - type: custom:button-card
                entity: scene.switch_to_night
                name: Night
                template: home-mode_buttons
                color_type: card
                color: rgb(111, 0, 110, 0.4)

              - type: "custom:button-card"
                entity: scene.switch_to_away
                name: Away
                template: home-mode_buttons
                color_type: card
                color: rgba(130, 0, 0, 0.5)

              - type: "custom:button-card"
                entity: lock.front_door_19
                show_state: true
                name: "Front Door: "
                tap_action:
                  action: more-info
                state:
                  - value: "locked"
                    color: rgb(130, 0, 0, 0.5)
                    icon: mdi:lock
                  - value: "Unlocked"
                    color: rgb(0, 99, 31, 0.5)
                    icon: mdi:lock-open
                template: home-mode_buttons
                color_type: card


      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - type: custom:slider-entity-row
                entity: light.lamp_107
                toggle: true
              - type: custom:slider-entity-row
                entity: light.dining_room_lamp_160
                toggle: true
              - type: custom:fold-entity-row
                head: light.tv
                entities:
                  - type: custom:rgb-light-card
                    entity: light.tv
                    justify: around
                    colors:
                      - rgb_color: [0,0,0]
                        brightness: 15
                        white_value: 30
                        icon_color: white
                      - rgb_color: [0,0,255]
                        brightness: 45
                        white_value: 0
                        icon_color: blue
                      - rgb_color: [255,0,0]
                        brightness: 45
                        white_value: 0
                        icon_color: red
                      - rgb_color: [0,255,00]
                        brightness: 45
                        white_value: 0
                        icon_color: green
                      - icon_color: 'linear-gradient(to right, orange , yellow, green, cyan, blue, violet)'
                        effect: custom
                      - icon_color: 'linear-gradient(to right, red, green, blue)'
                        effect: colorloop

              - type: custom:fold-entity-row
                head: group.bedroom
                icon: mdi:bed-empty
                entities:
                  - type: custom:slider-entity-row
                    entity: light.vanity_light_120
                    toggle: true
                  - type: custom:slider-entity-row
                    entity: light.bedroom_val_104
                    toggle: true
                  - type: custom:slider-entity-row
                    entity: light.bedroom_eric_103
                    toggle: true


# Int Lights on
      - type: custom:auto-entities
        card:
          type: glance
          title: Interior

        filter:
          include:
            - group: group.int_lights
              state: "on"
              options:
                tap_action:
                  action: toggle
        show_empty: false

# Ext Lights on
      - type: custom:auto-entities
        card:
          type: glance
          title: Exterior
        filter:
          include:
            - group: group.exterior
              state: "on"
              options:
                tap_action:
                  action: toggle
        show_empty: false

# Harmony Living Room card
      - type: custom:vertical-stack-in-card
        title: Living Room TV
        style: |
          ha-card {
            background: var(--paper-card-background-color)
          }
        cards:
          - type: "custom:button-card"
            entity: sensor.harmony_living_room
            name: 'Current Activity'
            show_state: true
            color_type: card
            color: var(--paper-card-background-color)
            show_icon: true
            layout: icon_name_state
            tap_action:
              action: more-info
            styles:
              card:
                - border-bottom: 3px solid rgba(0, 0, 0, .2)
                - border-top: 3px solid rgba(0, 0, 0, .2)
                - padding: 10px 0
            state:
              - value: 'Watch Kodi'
                icon: mdi:kodi
              - value: 'Watch TV'
                icon: mdi:television
              - value: 'Listen to Music'
                icon: mdi:music
              - value: 'Chromecast'
                icon: mdi:cast
              - value: 'WiiU'
                icon: mdi:nintendo-switch
              - value: 'Play Steam'
                icon: mdi:steam
              - value: 'PowerOff'
                icon: mdi:power-off
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.lr_tv
                icon: mdi:television
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_kodi
                icon: mdi:kodi
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_chromecast
                icon: mdi:cast
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_wiiu
                icon: mdi:nintendo-switch
                template: harmony_button
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.lr_music
                icon: mdi:music
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_steam
                icon: mdi:steam
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_xbox
                icon: mdi:xbox
                template: harmony_button
              - type: custom:button-card
                entity: script.tv_youtube
                icon: mdi:youtube
                name: YouTube


          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                color_type: blank-card
              - type: "custom:button-card"
                entity: remote.living_room
                icon: mdi:power
                color_type: card
                color: darkred
                size: 32px
                name: "Turn Off"
                service:
                  domain: remote
                  action: turn_off
                  data:
                    entity_id: remote.living_room
                styles:
                  card:
                    #- margin: 10px 5px
                    - height: 70px
                    - background-color: var(--ha-card-background)
          - type: custom:fold-entity-row
            head:
              type: section
              label: Roku Remote
            padding: 0
            entities:
              - type: custom:roku-card
                entity: media_player.55_tcl_roku_tv


# Calendar card
      - type: custom:calendar-card
        title: "Calendar"
        numberOfDays: 90
        timeFormat: h:mma
        dateTopFormat: MMM DD
        dateBottomFormat: ddd
        entities:
          - calendar.slacktishevents
          - calendar.holidays_in_united_states



# Thermostat and climate Card
      - type: vertical-stack
        cards:
          - type: custom:simple-thermostat
            entity: climate.thermostat_147
            step_size: 1
            #sensors:
            #  - entity: sensor.current_temperature
            style: |
              ha-card .mode-item {
                background: rgba(10, 10, 10, 0.4);
              }
              ha-card .mode-item.active {
                background: rgba(255, 255, 240, 0.4);
              }
              ha-card .mode-item.active:hover {
                background: rgba(255, 255, 240, 0.6);
              }
              ha-card .mode-item:hover {
                background: rgba(255, 255, 240, 0.6);
              }
# Temps
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                name: Temperature
                hours_to_show: 24
                entities:
                  - entity: sensor.current_temperature
                    color: rgba(207, 130, 0, 0.8)
                  - entity: sensor.temperature_sensor_167
                    color: rgb(0, 133, 255, 0.8)
                show:
                  points: hover
                  fill: false


#
# Lights Tab
#
  - title: Lights
    path: lights
    icon: mdi:lightbulb
    # theme: e-dark-mode
    cards:
      - type: vertical-stack
        cards:
# Living Area Card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Living Room
                template: int_light_label
                entity: group.living_area

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: light.lamp_107
                    name: Living Lamp
                    template: light_button_brightness

                  - type: "custom:button-card"
                    entity: light.tv
                    name: TV
                    template: rgb_light_button
                    state:
                      - value: 'on'
                        icon: mdi:flash

                  - type: "custom:button-card"
                    entity: light.dining_room_lamp_160
                    name: Dining Lamp
                    template: light_button_brightness

                  - type: "custom:button-card"
                    entity: switch.party_lights_173
                    name: Party Lights
                    template: light_switch_button


# Kitchen Card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Kitchen
                template: int_light_label
                entity: light.cabinets
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.kitchen_light_183
                    name: Light
                    template: light_switch_button

                  - type: "custom:button-card"
                    entity: light.cabinets
                    name: Cabinets
                    template: rgb_light_button

                  - type: "custom:button-card"
                    color_type: blank-card
                  - type: "custom:button-card"
                    color_type: blank-card


    # Man cave card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Man Cave
                entity: group.man_cave
                template: int_light_label

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.man_cave_lights_133
                    name: Lights
                    template: light_switch_button

                  - type: "custom:button-card"
                    entity: light.mancave_desk
                    name: Desk
                    template: rgb_light_button

                  - type: "custom:button-card"
                    entity: light.pin_board
                    name: Pin Board
                    template: rgb_light_button

                  - type: "custom:button-card"
                    entity: light.wifi_box
                    name: Puck
                    template: rgb_light_button
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.cabinet_lights_123
                    name: Air Purifier
                    template: light_switch_button
                  - type: "custom:button-card"
                    color_type: blank-card
                  - type: "custom:button-card"
                    color_type: blank-card
                  - type: "custom:button-card"
                    color_type: blank-card

    # Bedroom Card

          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Bedroom
                entity: group.bedroom
                template: int_light_label

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: light.bedroom_eric_103
                    name: Right
                    template: light_button_brightness

                  - type: "custom:button-card"
                    entity: light.bedroom_val_104
                    name: Left
                    template: light_button_brightness

                  - type: "custom:button-card"
                    entity: light.vanity_light_120
                    name: Vanity
                    template: light_button_brightness
                    icon: mdi:vanity-light

                  - type: "custom:button-card"
                    color_type: blank-card


    # Front Ext Card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Front Ext
                entity: group.ext_front
                template: ext_light_label

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.front_porch_115
                    name: Porch
                    template: ext_light_switch_button

                  - type: "custom:button-card"
                    entity: switch.front_spotlight_135
                    name: Spotlight
                    template: ext_light_switch_button

                #  - type: "custom:button-card"
                #    entity: switch.front_ext_holida_178
                #    name: Front Holiday
                #    template: ext_light_switch_button

                  - type: "custom:button-card"
                    color_type: blank-card
                    color_off: var(--disabled-text-color)

                  - type: "custom:button-card"
                    color_type: blank-card
                    color_off: var(--disabled-text-color)

    # Back Ext Card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Back Ext
                entity: group.ext_back
                template: ext_light_label

              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.deck_lights_108
                    name: Deck
                    template: ext_light_switch_button

                  - type: "custom:button-card"
                    entity: switch.back_spotlight_118
                    name: Spotlight
                    template: ext_light_switch_button

                #  - type: "custom:button-card"
                #    entity: switch.back_ext_holiday_188
                #    name: Back Holiday
                #    template: ext_light_switch_button

                  - type: "custom:button-card"
                    color_type: blank-card
                    color_off: var(--disabled-text-color)

                  - type: "custom:button-card"
                    color_type: blank-card
                    color_off: var(--disabled-text-color)
      # Other card
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                name: Other
                template: ext_light_label
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.xmas_tree_both_184
                    name: Zooz 1
                    template: light_switch_button
                  - type: "custom:button-card"
                    entity: switch.xmas_tree_left_185
                    name: Zooz 1 Left
                    template: light_switch_button
                  - type: "custom:button-card"
                    entity: switch.xmas_tree_right_186
                    name: Zooz 1 Right
                    template: light_switch_button
                  - type: "custom:button-card"
                    color_type: blank-card
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    entity: switch.zooz_plug_master_179
                    name: Zooz 2
                    template: light_switch_button
                  - type: "custom:button-card"
                    entity: switch.zooz_plug_left_180
                    name: Zooz 2 Left
                    template: light_switch_button
                  - type: "custom:button-card"
                    entity: switch.zooz_plug_right_181
                    name: Zooz 2 Right
                    template: light_switch_button
                  - type: "custom:button-card"
                    color_type: blank-card


#
# Media tab
#
  - title: Media
    path: media
    icon: mdi:play-circle-outline
    # theme: e-dark-mode
    cards:
  # Living Room Media
      - type: custom:vertical-stack-in-card
        #title: Living Room
        cards:
          - type: custom:button-card
            template: general_label
            name: Living Room
            styles:
              card:
                - border-bottom: 3px solid rgba(0, 0, 0, .2)


          - type: "custom:button-card"
            entity: sensor.harmony_living_room
            name: 'Current Activity'
            show_state: true
            color_type: card
            color: var(--paper-card-background-color)
            show_icon: true
            layout: icon_name_state
            tap_action:
              action: more-info
            styles:
              card:
                - border-bottom: 3px solid rgba(0, 0, 0, .2)
                - padding: 10px 0
            state:
              - value: 'Watch Kodi'
                icon: mdi:kodi
              - value: 'Watch TV'
                icon: mdi:television
              - value: 'Listen to Music'
                icon: mdi:music
              - value: 'Chromecast'
                icon: mdi:cast
              - value: 'WiiU'
                icon: mdi:nintendo-switch
              - value: 'Play Steam'
                icon: mdi:steam
              - value: 'PowerOff'
                icon: mdi:power-off

          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.lr_tv
                icon: mdi:television
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_kodi
                icon: mdi:kodi
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_chromecast
                icon: mdi:cast
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_wiiu
                icon: mdi:nintendo-switch
                template: harmony_button
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: switch.lr_music
                icon: mdi:music
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_steam
                icon: mdi:steam
                template: harmony_button
              - type: custom:button-card
                entity: switch.lr_xbox
                icon: mdi:xbox
                template: harmony_button

              - type: "custom:button-card"
                entity: remote.living_room
                icon: mdi:power
                color_type: card
                color: darkred
                size: 32px
                name: "Turn Off"
                service:
                  domain: remote
                  action: turn_off
                  data:
                    entity_id: remote.living_room
                styles:
                  card:
                    #- margin: 10px 5px
                    - height: 70px


          - type: "custom:mini-media-player"
            entity: media_player.denon_avr_s720w
            name: Denon AVR
            icon: mdi:play-circle
            artwork: cover
            power_color: true
            show_source: true

          - type: "custom:mini-media-player"
            entity: media_player.55_tcl_roku_tv
            name: TCL TV
            icon: mdi:television-clean
            artwork: cover
            hide:
              volume: true
              controls: true
            shortcuts:
              columns: 2
              buttons:
                - type: script
                  id: script.yoga_beg
                  icon: mdi:meditation
                - type: script
                  id: script.yoga_stretch
                  icon: mdi:yoga
                - type: script
                  id: script.vic_workout
                  icon: mdi:human-handsup
                - type: script
                  id: script.15m_workout
                  icon: mdi:karate



          - type: "custom:mini-media-player"
            entity: media_player.living_room_kodi
            name: Living Room Kodi
            icon: mdi:kodi
            artwork: full-cover
            hide:
              volume: true
              power: true

          - type: "custom:mini-media-player"
            entity: media_player.living_room
            name: Living Room Chromecast
            icon: mdi:cast
            artwork: cover
            shortcuts:
              buttons:
                - name: JEMP
                  icon: mdi:radio
                  type: music
                  id: http://streaming.radio.co/sd71de59b3/listen
                - name: Nugs Radio
                  icon: mdi:radio
                  type: music
                  id: http://radio.nugs.net/nugsnet.mp3

          - type: "custom:mini-media-player"
            entity: media_player.all_3_rooms
            name: All 3 Rooms
            icon: mdi:cast
            artwork: cover
            #group: true
            hide:
              power: false
              controls: false
            shortcuts:
              buttons:
                - name: JEMP
                  icon: mdi:radio
                  type: music
                  id: http://streaming.radio.co/sd71de59b3/listen
                - name: Nugs Radio
                  icon: mdi:radio
                  type: music
                  id: http://radio.nugs.net/nugsnet.mp3

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: HA to LR
                icon: mdi:cast
                color: var(--primary-color)
                template: cast_button
                tap_action:
                  action: call-service
                  service: cast.show_lovelace_view
                  service_data:
                    entity_id: media_player.living_room
                    view_path: cast

              - type: "custom:button-card"
                name: Stop Casting
                icon: mdi:power
                color: darkred
                template: cast_button
                tap_action:
                  action: call-service
                  service: media_player.turn_off
                  service_data:
                    entity_id: media_player.living_room



  # Bedroom Media
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:button-card
            name: Bedroom
            template: general_label
            styles:
              card:
                #- border-bottom: 3px solid rgba(0, 0, 0, .2)

          - type: "custom:mini-media-player"
            entity: media_player.bedroom_kodi
            name: Bedroom Kodi
            icon: mdi:kodi
            artwork: cover
            hide:
              volume: true
              power: true

          - type: "custom:mini-media-player"
            entity: media_player.bedroom_tv
            name: Bedroom Chromecast
            icon: mdi:cast
            artwork: cover
            group: true
            shortcuts:
              buttons:
                - name: JEMP
                  icon: mdi:radio
                  type: music
                  id: http://streaming.radio.co/sd71de59b3/listen
                - name: Nugs Radio
                  icon: mdi:radio
                  type: music
                  id: http://radio.nugs.net/nugsnet.mp3

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: HA to BR
                icon: mdi:cast
                color: var(--primary-color)
                template: cast_button
                tap_action:
                  action: call-service
                  service: cast.show_lovelace_view
                  service_data:
                    entity_id: media_player.bedroom_tv
                    view_path: cast

              - type: "custom:button-card"
                icon: mdi:power
                name: Stop Casting
                color: darkred
                template: cast_button
                tap_action:
                  action: call-service
                  service: media_player.turn_off
                  service_data:
                    entity_id: media_player.bedroom_tv

  # Mancave media
      - type: custom:vertical-stack-in-card
        cards:
          - type: custom:button-card
            template: general_label
            name: Man Cave
            styles:
              card:
                #- border-bottom: 3px solid rgba(0, 0, 0, .2)

          - type: "custom:mini-media-player"
            entity: media_player.man_cave
            name: Man Cave Chromecast
            icon: mdi:cast
            artwork: cover

          - type: "custom:mini-media-player"
            entity: media_player.cca_man_cave
            name: Man Cave Chromecast Audio
            artwork: cover
            # group: true
            icon: mdi:cast
            hide:
              power: false
              controls: false
            shortcuts:
              buttons:
                - name: JEMP
                  icon: mdi:radio
                  type: music
                  id: http://streaming.radio.co/sd71de59b3/listen
                - name: Nugs Radio
                  icon: mdi:radio
                  type: music
                  id: http://radio.nugs.net/nugsnet.mp3

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                name: HA to MC
                icon: mdi:cast
                color: var(--primary-color)
                template: cast_button
                tap_action:
                  action: call-service
                  service: cast.show_lovelace_view
                  service_data:
                    entity_id: media_player.man_cave
                    view_path: cast

              - type: "custom:button-card"
                icon: mdi:power
                name: Stop Casting
                color: darkred
                template: cast_button
                tap_action:
                  action: call-service
                  service: media_player.turn_off
                  service_data:
                    entity_id: media_player.man_cave


#
# Surveillance tab
#
  - title: Surveillance
    icon: mdi:cctv
    path: cams
    panel: true
    cards:
      - type: custom:surveillance-card
        thumb_interval: 15
        update_interval: 2
        cameras:
          - entity: camera.front_door
          - entity: camera.back_door
          - entity: camera.man_cave_camera
            motion_entity: binary_sensor.motion_sensor_128

#
# Sensors tab
#
  - title: Sensors
    path: sensors
    icon: mdi:gauge
    # theme: e-dark-mode
    cards:
      - type: vertical-stack
        cards:
          - type: "custom:button-card"
            template: general_label
            name: Security Sensors
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: binary_sensor.front_door1_1_139
                icon: mdi:door
                name: Front Door
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.back_door_172
                icon: mdi:door
                name: Back Door
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.motion_sensor_128
                icon: mdi:transition
                name: Man Cave Motion
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.master_bath_sensor_121
                icon: mdi:transition
                name: Master Bath
                color: rgb(155, 0, 0)
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.smoke_sensor_197
                icon: mdi:smoke-detector
                name: Smoke
                template: sensor_button
              - type: "custom:button-card"
                entity: binary_sensor.co_sensor_198
                icon: mdi:smoke-detector
                name: CO
                template: sensor_button
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                entity: switch.front_door1_1_139
                icon: mdi:door
                name: "Armed: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.back_door_172
                icon: mdi:door
                name: "Armed: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.motion_sensor_128
                icon: mdi:transition
                name: "Armed: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.master_bath_sensor_121
                icon: mdi:transition
                name: "Armed: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.smoke_sensor_197
                icon: mdi:smoke-detector
                name: "Armed: "
                show_state: true
                template: sensor_button
              - type: "custom:button-card"
                entity: switch.co_sensor_198
                icon: mdi:smoke-detector
                name: "Armed: "
                show_state: true
                template: sensor_button

          - type: custom:button-card
            entity: switch.siren_113
            show_state: true
            icon: mdi:alarm-light
            lock:
              enabled: true
            styles:
              card:
                - height: 75px

      - type: vertical-stack
        cards:
          - type: "custom:button-card"
            name: Man Cave Data
            template: general_label

          - type: horizontal-stack
            cards:
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.temperature_sensor_167
                name: Temp
                icon: mdi:thermometer-lines
                #line_color: rgb(0, 148, 10)
                show:
                  points: hover
                color_thresholds:
                  - value: 65
                    color: blue
                  - value: 70
                    color: yellow
                  - value: 78
                    color: red
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.humidity_sensor_169
                name: Humidity
                line_color: blue
                show:
                  points: hover
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.light_sensor_168
                name: Light
                line_color: '#e74c3c'
                show:
                  points: hover
#      - type: vertical-stack
#        cards:
#          - type: "custom:button-card"
#            name: Power
#            color_type: label-card
#            color: rgb(41, 41, 41)
#          - type: horizontal-stack
#            title: Sensors
#            cards:
#              - type: "custom:mini-graph-card"
#                entities:
#                  - sensor.power_avg_use
#                icon: mdi:power-socket-us
#                show:
#                  graph: bar
#              - type: "custom:mini-graph-card"
#                entities:
#                  - sensor.power_lastbill_use
#                icon: mdi:power-socket-us
#                show:
#                  graph: bar




#
# Weather tab
#
  - title: Weather
    path: weather
    icon: mdi:weather-cloudy
    cards:
      - type: vertical-stack
        cards:
          - type: "custom:button-card"
            name: Forecast
            template: general_label
          - type: iframe
            url: https://embed.windy.com/embed2.html?lat=35.583&lon=-78.788&zoom=5&level=surface&overlay=radar&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=35.583&detailLon=-78.788&metricWind=default&metricTemp=default&radarRange=-1
            aspect_ratio: 75%
          - type: weather-forecast
            entity: weather.weather

      - type: custom:vertical-stack-in-card
        cards:
          - type: "custom:sun-card"
            name: Sun

          - type: "custom:button-card"
            entity: sensor.solar_angle
            name: "Current Angle"
            icon: mdi:weather-sunny
            show_state: true
            show_name: true
            show_icon: false
            layout: name_state
            styles:
              name:
                - justify-self: left
                - padding-left: 20px
              state:
                - justify-self: left
                - padding-left: 20px

      - type: custom:vertical-stack-in-card
        cards:
          - type: "custom:button-card"
            template: general_label
            name: Space Weather
          - type: picture-entity
            camera_image: camera.solar_x_rays
            entity: camera.solar_x_rays
            show_state: false
          - type: picture-entity
            camera_image: camera.geomagnetic_field
            entity: camera.geomagnetic_field
            show_state: false

#
# People tab
#
  - title: People
    path: people
    icon: mdi:account
    # theme: e-dark-mode
    cards:
# Who's home
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: People
                template: general_label
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: person.eric
                tap_action:
                  action: more-info
                icon: mdi:home-account
                color_type: card
                color: auto
                show_state: true
                show_label: true
                show_icon: false
                show_entity_picture: true
                entity_picture: /local/people/eric.png
                state:
                  - value: "home"
                    color: rgba(32, 178, 170, 0.4)
                    #icon: mdi:home-account
                    entity_picture: /local/people/eric.png
                  - value: "not_home"
                    color: rgba(10, 10, 10, 0.4)
                    #icon: mdi:walk
                    entity_picture: /local/people/eric-walk.png
                  - value: "Eisai"
                    color: rgba(10, 10, 10, 0.4)
                    #icon: mdi:walk
                    entity_picture: /local/people/eric-work.png

              - type: custom:button-card
                entity: person.val
                tap_action:
                  action: more-info
                entity_picture: /local/people/val.png
                icon: mdi:home-account
                color_type: card
                color: auto
                show_state: true
                show_label: true
                show_entity_picture: true
                state:
                  - value: "home"
                    color: rgba(32, 178, 170, 0.4)
                    entity_picture: /local/people/val.png
                  - value: "not_home"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/val-walk.png
                  - value: "Food Lion"
                    color: rgba(10, 10, 10, 0.4)
                    entity_picture: /local/people/val-car.png
          - type: map
            #default_zoom: 12
            aspect_ratio: 16x9
            dark_mode: true
            entities:
              - person.eric
              - person.val

# Untappd Card
          - type: custom:button-card
            name: Beer
            template: general_label
          - type: picture-elements
            id: untappd-card
            image: /local/untappd-bg.jpg
            elements:
              - type: state-icon
                entity: sensor.untappd_last_check_in_robotsfearme
                style:
                  top: 22px
                  left: 8px
                  transform: none
              - type: state-label
                entity: sensor.untappd_beer
                style:
                  top: 8%
                  left: 52px
                  transform: none
                  color: rgb(255, 255, 255)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-left-style: solid
                  border-color: Yellow
                  background-color: rgba(10, 10, 10, 0.4)
                  pointer-events: none
                  width: 325px
                  padding: 5px
                  border-top-right-radius: 5px
              - type: state-icon
                entity: sensor.untappd_last_badge_robotsfearme
                style:
                  top: 74px
                  left: 8px
                  transform: none
              - type: state-label
                entity: sensor.untappd_badge
                style:
                  top: 73px
                  left: 52px
                  transform: none
                  color: rgb(255, 255, 255)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-left-style: solid
                  border-color: Orange
                  background-color: rgba(10, 10, 10, 0.4)
                  pointer-events: none
                  width: 325px
                  padding: 5px
                  border-bottom-right-radius: 5px
              - type: state-icon
                entity: sensor.untappd_checked
                style:
                  bottom: 0px
                  left: 3px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_checked
                style:
                  bottom: 0px
                  left: 0px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: LightSalmon
                  padding-left: 36px
                  padding-bottom: 1px
                  #text-shadow: 2px 2px 2px black
              - type: state-icon
                entity: sensor.untappd_followings
                style:
                  bottom: 0px
                  left: 78px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_followings
                style:
                  bottom: 0px
                  left: 74px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: OrangeRed
                  padding-left: 36px
                  padding-bottom: 1px
                  #text-shadow: 2px 2px 2px black
              - type: state-icon
                entity: sensor.untappd_total_badges
                style:
                  bottom: 0px
                  left: 148px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white
              - type: state-label
                entity: sensor.untappd_total_badges
                style:
                  bottom: 0px
                  left: 141px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: FireBrick
                  padding-left: 36px
                  padding-bottom: 1px
                  #text-shadow: 2px 2px 2px black
              - type: state-icon
                entity: sensor.untappd_total_beers
                style:
                  bottom: 0px
                  left: 228px
                  transform: none
                  z-index: 2
                  "--paper-item-icon-color": white

              - type: state-label
                entity: sensor.untappd_total_beers
                style:
                  bottom: 0px
                  left: 215px
                  transform: none
                  color: rgb(255, 255, 255)
                  -webkit-text-stroke: 0.2px rgb(0, 0, 0, 0.6)
                  text-shadow: 0.1px 0.1px rgb(0, 0, 0, 0.6)
                  font-family: Trebuchet MS
                  font-size: 90%
                  font-weight: bold
                  border-bottom-style: solid
                  border-color: Maroon
                  padding-left: 36px
                  padding-bottom: 1px
                  #text-shadow: 2px 2px 2px black
#
# System tab
#
  - title: System
    path: system
    icon: mdi:home-assistant
    # theme: e-dark-mode
    cards:
# Network Info
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: Network
            template: general_label
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                name: "Public IP:"
                entity_picture: /local/network.jpg
                entity: sensor.myip
                icon: mdi:network-router
                show_state: true
                show_icon: true
                show_entity_picture: false
                show_last_changed: true
                size: 64px
                layout: icon_name_state2nd
              - type: custom:button-card
                name: "SSL Cert Expiry:"
                entity: sensor.ssl_certificate_expiry
                show_state: true
                show_icon: true
                size: 64px
                layout: icon_name_state2nd
                tap_action:
                  action: url
                  url_path: https://evilrobot.space
                styles:
                  icon:
                    - color: >
                        [[[
                          if (entity.state > 60) return 'lime';
                          if (entity.state <= 60 && entity.state >= 30) return 'orange';
                          else return 'darkred';
                        ]]]
# System info and commands
      - type: vertical-stack
        cards:
          - type: custom:button-card
            name: HASS/System
            template: general_label
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.current_version
                name: "Currently Running:"
                show_state: true
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /developer-tools/info
                styles:
                  card:
                    - font-size: 14px

              - type: custom:button-card
                entity: sensor.hass_avail_version
                name: "Available:"
                show_state: true
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /developer-tools/info
                styles:
                  card:
                    - font-size: 14px

              - type: custom:button-card
                entity: sensor.hacs
                name: "HACS Updates:"
                show_state: true
                show_icon: false
                tap_action:
                  action: navigate
                  navigation_path: /hacs
                styles:
                  card:
                    - font-size: 14px
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.uptime
                name: "Uptime:"
                show_state: true
                show_icon: false
              - type: custom:button-card
                entity: sensor.last_boot
                name: "Last Boot:"
                show_state: true
                show_icon: false

          - type: horizontal-stack
            cards:
              - type: "custom:mini-graph-card"
                entities:
                  - sensor.processor_use
                name: "Procesor"
                line_color: rgb(28, 132, 255)
                show:
                  labels: hover
                  points: false
                  state: false
                line_width: 3
                points_per_hour: 30
                hours_to_show: 1
              - type: "custom:mini-graph-card"
                name: "System:"
                entities:
                  - sensor.memory_use_percent
                name: "Memory"
                line_color: green
                show:
                  labels: hover
                  points: false
                  state: false
                line_width: 3
                points_per_hour: 60
                hours_to_show: 1

          - type: horizontal-stack
            cards:
              - type: custom:button-card
                icon: mdi:reload
                name: Restart Vera
                entity: scene.reboot_vera
                template: system_buttons
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  entity: scene.reboot_vera
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
              - type: "custom:button-card"
                color_type: blank-card
                color_off: var(--disabled-text-color)
 # Battery Levels
          - type: custom:vertical-stack-in-card
            cards:
              - type: custom:button-card
                name: Batteries
                template: general_label
              - type: custom:auto-entities
                card:
                  type: custom:bar-card
                  attribute: battery_level
                  severity:
                    - value: 50
                      color: 'rgba(191, 64, 64, 0.5)'
                    - value: 75
                      color: 'rgba(191, 149, 64, 0.5)'
                    - value: 100
                      color: 'rgba(64, 191, 64, 0.5)'
                  title_position: inside
                  columns: 3
                  padding: 4px
                  align: left
                  title_style:
                    font-size: 14px
                  value_style:
                      font-size: 10px
                  background_style:
                    border: 2px solid white
                filter:
                  include:
                    - attributes:
                        battery_level: <=100

  - title: Cast
    path: cast
    icon: mdi:cast
    # theme: e-dark-mode
    cards:
        - type: custom:vertical-stack-in-card

          cards:
            - type: 'custom:text-divider-row'
              text: "Today"
            - type: horizontal-stack
              cards:
                - type: custom:button-card
                  entity: sensor.simple_time
                  show_state: true
                  show_icon: false
                  show_name: false
                - type: custom:button-card
                  entity: sensor.simple_date
                  show_state: true
                  show_icon: false
                  show_name: false



            - type: 'custom:text-divider-row'
              text: "Upcoming"

            - type: custom:calendar-card
              #title: "Upcoming Events"
              hideHeader: true
              numberOfDays: 90
              timeFormat: h:mma
              dateTopFormat: MMM DD
              dateBottomFormat: ddd
              entities:
                - calendar.slacktishevents

            - type: entities
              show_header_toggle: false
              entities:
                - entity: sensor.flyers
                - entity: sensor.away_team
                - entity: sensor.home_team

        - type: custom:vertical-stack-in-card
          cards:
            - type: 'custom:text-divider-row'
              text: "Weather"
            - type: custom:weather-card
              entity: weather.weather
              current: true
              details: true
              forecast: true
            - type: picture-entity
              entity: camera.rax
              show_name: false
              show_state: false

#        - type: custom:list-card
#          entity: sensor.wral
#          #title: WRAL News
#          feed_attribute: entries
#          columns:
#            - title: WRAL News
#              field: title
#              style:
#                - white-space: nowrap
            #- title: Description
            #  field: description


          #  - type: iframe
          #    url: https://embed.windy.com/embed2.html?lat=35.583&lon=-78.788&zoom=5&level=surface&overlay=radar&menu=&message=&marker=&calendar=&pressure=&type=map&location=coordinates&detail=&detailLat=35.583&detailLon=-78.788&metricWind=default&metricTemp=default&radarRange=-1
          #    aspect_ratio: 75%

        - type: custom:upcoming-media-card
          entity: sensor.sonarr_upcoming_media
          title: Upcoming TV
          all_shadows: off
          image_style: fanart

# Templates for button-card
button_card_templates:
  !include button-card-templates.yaml
